System.register("eutsiv-ui",[],function(t,e){"use strict";e&&e.id;return{setters:[],execute:function(){t("applyAttrsModifiers",(t,...e)=>(t.eui=Object.assign({},t.eui),!Array.isArray(t.class)&&(t.class=t.class?[t.class]:[]),!Array.isArray(t.style)&&(t.style=t.style?[t.style]:[]),e.forEach(e=>{t=e(t)}),Array.isArray(t.class)&&(t.class=t.class.length?t.class.join(" "):void 0),Array.isArray(t.style)&&(t.style=t.style.length?t.style.join(";"):void 0),(t=Object.assign({},t)).eui=void 0,t)),t("Sizes",{XS:"0.72em",SM:"0.88em",DE:"1.00em",LG:"1.28em",XL:"1.52em",HU:"1.76em"})}}}),System.register("eutsiv-ui/Component",["mithril","eutsiv-ui"],function(t,e){"use strict";var i,s,u,n;e&&e.id;return{setters:[function(t){i=t},function(t){s=t}],execute:function(){t("Component",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,u,n),t.children)})),t("applyClasses",u=(t=>(t.class.push("eui-component"),t))),t("applyConfig",n=(t=>{let e=t.eui;return e.context&&t.class.push(`eui-${e.context}`),e.size&&t.style.push(`font-size:${e.size}`),t}))}}}),System.register("eutsiv-ui/Viewport",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,n;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Viewport",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,n),t.children)})),n=(t=>((t=u.applyClasses(t)).class.push("eui-viewport"),t))}}}),System.register("eutsiv-ui/components/form/Select",["mithril"],function(t,e){"use strict";var i,s,u,n,r,a,o;e&&e.id;return{setters:[function(t){i=t}],execute:function(){s=(t=>t.state.selected.map(e=>i.default("div",[i.default("input",{type:"hidden",name:t.state.fields.id,value:e.id}),i.default("input",{type:"hidden",name:t.state.fields.text,value:e.text})]))),u=(()=>{}),n=((t,e)=>{let i=new RegExp(e,"i");return t.text&&-1!=t.text.search(i)}),r=((t,e,i)=>{i.state.multiple?(t.stopPropagation(),i.state.selected.push(e)):i.state.selected=[e],i.state.onSelect(t,e,i),i.state.dirty=!0}),a=(t=>i.default.request({method:"GET",url:t.state.remote.url,data:t.state.remote.params,useBody:!0}).then(t.state.remote.processResponse).then(e=>{t.state.data=e})),o=(t=>{let e=t.state.multiple?t.state.selected.map(t=>i.default("a",{class:"eui-button eui-sm eui-compact eui-primary"},[t.text,i.default.trust("&nbsp;&times;")])):t.state.selected.map(t=>i.default("span",t.text));return e.length?e:i.default.trust("&nbsp;")}),t("Select",()=>{let t=0,e=e=>{t=e.dom.offsetWidth};return{oninit:function(t){t.state.data=t.attrs.data||[],t.state.open=t.attrs.open||!1,t.state.multiple=t.attrs.multiple||!1,t.state.fields=t.attrs.fields||{id:"select[id]",text:"select[text]"},t.state.onSelect=t.attrs.onSelect||u,t.state.onInput=t.attrs.onInput||u,t.state.query=t.attrs.query||"",t.state.selected=t.attrs.selected||[],t.state.remote=t.attrs.remote||!1,t.state.dirty=!1,t.state.remote&&a(t),document.addEventListener("click",function(e){e.target.parentNode!=t.dom&&(t.state.open=!1,t.dom.querySelector("div.eui-select-content").children.item(0).blur(),i.default.redraw())})},onupdate:function(t){t.state.open?(t.dom.querySelector("div.eui-select-content").children.item(0).focus(),t.dom.style.zIndex="9999"):t.dom.style.zIndex="1"},view:function(u){return!u.state.dirty&&u.attrs.selected&&(u.state.selected=u.attrs.selected),i.default("div",{class:"eui-select",oncreate:e,onupdate:e},[i.default("div",{class:u.state.open?"eui-input eui-open":"eui-input",onclick:()=>{u.state.open=!u.state.open}},o(u)),i.default("div",s(u)),i.default("div",{class:u.state.open?"eui-select-container eui-open":"eui-select-container"},[i.default("div",Object.assign({class:"eui-select-content"},t&&{style:`width:${t}px`}),[i.default("input",{oninput:i.default.withAttr("value",t=>{u.state.query=t,u.state.onInput(t,u),u.state.remote&&a(u)})}),i.default("ul",u.state.data.filter(t=>n(t,u.state.query)).map(t=>i.default("li",i.default("a",{onclick:e=>{r(e,t,u)}},t.text))))])])])}}})}}}),System.register("eutsiv-ui/layout/grid/Grid",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,n;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Grid",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,n),t.children)})),n=(t=>((t=u.applyClasses(t)).class.push("eui-grid"),t))}}}),System.register("eutsiv-ui/layout/grid/Row",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,n;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Row",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,n),t.children)})),n=(t=>((t=u.applyClasses(t)).class.push("eui-row"),t))}}}),System.register("eutsiv-ui/layout/grid/Column",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,n,r;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Column",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,n,r),t.children)})),t("applyClasses",n=(t=>((t=u.applyClasses(t)).class.push("eui-column"),t))),t("applyConfig",r=(t=>{let e=t.eui,i=e.size||[],s=e.offset||[],u=(t,e)=>t.map((t,i)=>{if(t)return`${e[i]}-${t}`}).filter(t=>{if(t)return!0});return t.class.push(...u(i,["eui-sm","eui"])),t.class.push(...u(s,["eui-sm-offset","eui-offset"])),t}))}}}),System.register("eutsiv-ui/layout/Grid",["eutsiv-ui/layout/grid/Grid","eutsiv-ui/layout/grid/Row","eutsiv-ui/layout/grid/Column"],function(t,e){"use strict";var i,s,u;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Grid",i.Grid),t("Row",s.Row),t("Column",u.Column)}}}),System.register("eutsiv-ui/layout/Gutter",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,n;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Gutter",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,n,u.applyConfig),t.children)})),n=(t=>((t=u.applyClasses(t)).class.push("eui-gutter"),t))}}}),System.register("eutsiv-ui/layout/VSpace",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,n;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("VSpace",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,n,u.applyConfig),i.default.trust("&nbsp;"))})),n=(t=>((t=u.applyClasses(t)).class.push("eui-vspace"),t))}}}),System.register("eutsiv-ui/widget/Link",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,n;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Link",()=>({view:t=>i.default("a",s.applyAttrsModifiers(t.attrs,n,u.applyConfig),t.children)})),n=(t=>((t=u.applyClasses(t)).class.push("eui-link"),t))}}}),System.register("eutsiv-ui/widget/Icon",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,n,r;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Icon",()=>({view:t=>i.default("i",s.applyAttrsModifiers(t.attrs,n,r),t.children)})),n=(t=>((t=u.applyClasses(t)).class.push("eui-icon"),t)),r=(t=>{let e=(t=u.applyConfig(t)).eui;return e.type&&t.class.push(`eui-icon-${e.type}`),e.spin&&t.class.push("eui-spin"),t})}}}),System.register("eutsiv-ui/widget/Breadcrumb",["mithril","eutsiv-ui","eutsiv-ui/Component","eutsiv-ui/widget/Link","eutsiv-ui/widget/Icon"],function(t,e){"use strict";var i,s,u,n,r,a;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t},function(t){n=t},function(t){r=t}],execute:function(){t("Breadcrumb",()=>({view:t=>i.default("ul",s.applyAttrsModifiers(t.attrs,a,u.applyConfig),[t.attrs.eui.items.map((t,e,s)=>{let u="function"==typeof t.text?t.text():t.text,a=e==s.length-1?i.default("span",{class:"eui-active"},u):[i.default(n.Link,{href:t.href,disabled:t.disabled,oncreate:t.oncreate,eui:{context:t.context}},u),i.default(r.Icon,{disabled:!0,eui:{type:"right-open"}})];return i.default("li",a)})])})),a=(t=>((t=u.applyClasses(t)).class.push("eui-breadcrumb"),t))}}}),System.register("eutsiv-ui/widget/Button",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,n,r;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Button",()=>({view:t=>{let e=t.attrs.eui&&"a"==t.attrs.eui.tag||t.attrs.href?"a":"button";return i.default(e,s.applyAttrsModifiers(t.attrs,n,r),t.children)}})),n=(t=>((t=u.applyClasses(t)).class.push("eui-button"),t)),r=(t=>{let e=(t=u.applyConfig(t)).eui;return e.block&&t.class.push("eui-block"),e.compact&&t.class.push("eui-compact"),e.flat&&t.class.push("eui-flat"),e.spaced&&t.class.push("eui-spaced"),t})}}}),System.register("eutsiv-ui/widget/form/Field",["mithril","eutsiv-ui","eutsiv-ui/layout/grid/Column"],function(t,e){"use strict";var i,s,u,n;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Field",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,n,u.applyConfig),t.children)})),n=(t=>((t=u.applyClasses(t)).class.push("eui-field"),t))}}}),System.register("eutsiv-ui/widget/Form",["mithril","eutsiv-ui","eutsiv-ui/Component","eutsiv-ui/widget/form/Field"],function(t,e){"use strict";var i,s,u,n,r;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t},function(t){n=t}],execute:function(){t("Field",n.Field),t("Form",()=>({view:t=>i.default("form",s.applyAttrsModifiers(t.attrs,r),t.children)})),r=(t=>((t=u.applyClasses(t)).class.push("eui-form"),t))}}}),System.register("eutsiv-ui/widget/Loading",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,n;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Loading",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,n),[...Array(6).keys()].map(t=>i.default("div",{class:`eui-ball eui-ball-${t+1}`})))})),n=(t=>((t=u.applyClasses(t)).class.push("eui-loading"),t))}}}),System.register("eutsiv-ui/widget/Notification",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,n;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Notification",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,n,u.applyConfig),t.children)})),n=(t=>((t=u.applyClasses(t)).class.push("eui-notification"),t))}}}),System.register("eutsiv-ui/widget/Progress",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,n;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Progress",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,n,u.applyConfig),i.default("div",{class:"eui-bar",style:`width:${t.attrs.eui.percentage}%`}))})),n=(t=>((t=u.applyClasses(t)).class.push("eui-progress"),t))}}}),System.register("eutsiv-ui/widget/Table",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,n;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Table",()=>({view:t=>{let e=t.attrs.eui;return i.default("div",s.applyAttrsModifiers(t.attrs,n),i.default("table",{class:"eui-table eui-condensed eui-striped"},[i.default("thead",[i.default("tr",e.columns.map(t=>Array.isArray(t.title)?i.default("th",{onclick:t.title[1],style:"cursor:pointer"},t.title[0]):i.default("th",t.title)))]),i.default("tbody",e.data.map(t=>i.default("tr",{key:t[e.key]},e.columns.map(e=>{let s="function"==typeof e.content?e.content(t):t[e.content];return i.default("td",s)}))))]))}})),n=(t=>((t=u.applyClasses(t)).class.push("eui-table-container"),t))}}}),System.register("eutsiv-ui/widget/calendar/Calendar",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,n;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Calendar",t=>{const e=(t,e)=>new Date(e,t+1,0).getDate();let r=["Sun","Mon","Tues","Wed","Thur","Fri","Sat"],a=["January","February","March","April","May","June","July","August","September","October","November","December"],o=e(t.attrs.month,t.attrs.year),l=new Date(t.attrs.year,t.attrs.month,1).getDay(),d=0==t.attrs.month?11:t.attrs.month-1,c=e(d,11==d?t.attrs.year-1:t.attrs.year);return{view:e=>i.default("div",s.applyAttrsModifiers(e.attrs,n,u.applyConfig),i.default("h2",a[e.attrs.month]+" "+e.attrs.year),(()=>i.default("div",{class:"eui-week-days"},r.map(t=>i.default("div",{class:"eui-day"},t))))(),i.default("div",{class:"eui-calendar-grid"},(()=>{let e=[],i=1,s=1;return[...Array(6*r.length).keys()].reduce((u,n)=>(n<new Date(t.attrs.year,t.attrs.month,1).getDay()?e.push({day:c-l+n+1,intruder:!0}):s>o?(e.push({day:i,intruder:!0}),i++):(e.push({day:s,intruder:!1}),s++),(n+1)%r.length==0&&(u.push(e),e=[]),u),[])})().map(t=>i.default("div",{class:"eui-calendar-row"},t.map(t=>{let s="eui-day";t.intruder&&(s+=" eui-other-month");let u=new Date(e.attrs.year,e.attrs.month,t.day).toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return i.default("div",{class:s,title:u},t.day)})))))}}),n=(t=>((t=u.applyClasses(t)).class.push("eui-calendar"),t))}}}),System.register("eutsiv-ui/widget/data/Grid",["mithril","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,n;e&&e.id;return{setters:[function(t){i=t},function(t){s=t}],execute:function(){u=((t,e)=>!!e.length&&e.reduce((t,e,i)=>e.fn(t,e.order,i),[...t])),n={view:t=>i.default("div",Object.assign({class:"resizer"},t.attrs))},t("Grid",t=>{let e=[],s=0,r=0,a=[],o=!1;const l=(t,s)=>{if(e[s]||(e[s]={sort:{}},e[s].dom=t.dom),!e[s].width||e[s].width<t.dom.scrollWidth){let u=t.dom.scrollWidth+2*parseInt(window.getComputedStyle(t.dom,null).getPropertyValue("padding-right").slice(0,-2));e[s].width=u,i.default.redraw()}};return{view:t=>{let d=t.attrs.eui,c=o||d.data,f=d.height||"auto";return i.default("div",{class:"grid",style:`height: ${f}`},i.default("div",{class:"header",style:s?`width:${s}px`:""},d.columns.map((c,f)=>{let p="&nbsp;";return c.title&&(p=c.title),e[f]&&e[f].sort&&e[f].sort.fn&&(1==e[f].sort.order?p+=" &#11015;":-1==e[f].sort.order&&(p+=" &#11014;"),p+=` <small>(${e[f].sort.nth+1})</small>`),[i.default("div",{class:"col col-header",style:e[f]&&e[f].width?`width:${e[f].width}px`:"",oncreate:t=>{l(t,f)},onupdate:t=>{l(t,f)},onclick:t=>{e[f].sort.fn=c.sort,e[f].sort.order?1==e[f].sort.order?e[f].sort.order*=-1:e[f].sort={}:e[f].sort.order=1;let i=e[f].sort.order?{fn:e[f].sort.fn,order:e[f].sort.order,index:f}:{};if(t.ctrlKey){let t=a.findIndex(t=>t.index==f);-1==t?(a.unshift(i),e[f].sort.nth=a.length-1):i.fn?a[t]=i:a.splice(t,1)}else a=i.fn?[i]:[],e.forEach((t,e)=>{e!=f&&(t.sort={})}),e[f].sort.nth=0;o=u(d.data,a)}},i.default.trust(p)),i.default(n,{onmousedown:u=>{let n=document.createElement("div"),a=u.clientX,o=e[f].dom.offsetLeft+e[f].dom.offsetWidth-r;function l(t){t.preventDefault()}function d(t){let i=o+(t.clientX-a);e[f].width=i-e[f].dom.offsetLeft+r,n.style.left=`${i}px`}n.style.position="absolute",n.style.top="0",n.style.left=`${o}px`,n.style.width="1px",n.style.height="100%",n.style.zIndex="1",n.style.background="#e0e0e0",t.dom.appendChild(n),window.addEventListener("selectstart",l),window.addEventListener("mousemove",d,!1),window.addEventListener("mouseup",function u(r){t.dom.removeChild(n);let a=e.map(t=>t.width).reduce((t,e)=>t+e+5,0);s=a>t.dom.getBoundingClientRect().width?a:0,i.default.redraw(),window.removeEventListener("mousemove",d,!1),window.removeEventListener("selectstart",l),window.removeEventListener("mouseup",u,!1)},!1)}})]})),i.default("div",{class:"body",style:"height: 100%",onscroll:e=>{e.redraw=!1,r!=e.target.scrollLeft&&(t.dom.querySelector("div.header").style.left=-1*e.target.scrollLeft+"px",r=e.target.scrollLeft,i.default.redraw())},oncreate:e=>{"auto"!=f&&(e.dom.style.height=t.dom.getBoundingClientRect().height-t.dom.querySelector(".header").getBoundingClientRect().height+"px")}},c.map(t=>i.default("div",{key:t[d.key],class:"row",style:s?`width:${s}px`:""},d.columns.map((s,u)=>{let n="function"==typeof s.content?s.content(t):t[s.content];return i.default("div",{class:"col col-body",style:e[u]&&e[u].width?`width:${e[u].width}px`:"",oncreate:t=>{e[u]||(e[u]={}),(!e[u].width||e[u].width<t.dom.getBoundingClientRect().width)&&(e[u].width=t.dom.getBoundingClientRect().width,i.default.redraw())}},n)})))))}}}),t=>((t=s.applyClasses(t)).class.push("eui-data-grid"),t)}}}),System.register("eutsiv-ui/widget/data/Paging",["mithril","eutsiv-ui","eutsiv-ui/Component","eutsiv-ui/widget/Button"],function(t,e){"use strict";var i,s,u,n,r;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t},function(t){n=t}],execute:function(){t("Paging",()=>({view:t=>{let e=t.attrs.eui,u=e.page||1,a=e.rows.total,o=e.rows.perPage,l=a%o>0?Math.floor(a/o)+1:a/o,d=[...Array(l).keys()].map(t=>t+1);return i.default("nav",s.applyAttrsModifiers(t.attrs,r),[i.default("span",{class:"eui-status"},"Displaying x to x of x"),i.default("br"),...d.map(t=>{let s={href:e.buildHref(t,o),oncreate:i.default.route.link,eui:{context:t==u?"primary":void 0,spaced:!0}};return i.default(n.Button,s,t)})])}})),r=(t=>((t=u.applyClasses(t)).class.push("eui-paging"),t))}}}),System.register("eutsiv-ui/widget/form/ImprovedSelect",[],function(t,e){"use strict";e&&e.id;return{setters:[],execute:function(){t("ImprovedSelect",()=>{})}}}),System.register("eutsiv-ui/widget/form/Select",[],function(t,e){"use strict";e&&e.id;return{setters:[],execute:function(){t("Select",()=>{})}}}),System.register("eutsiv-ui/widget/tree/Tree",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,n,r,a,o,l;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){n=((t,e,s)=>(e+=1,t.map(t=>"branch"==t.type?i.default(r,{item:t,indentation:e,open:s}):i.default(a,{item:t,indentation:e})))),r=(t=>{let e=t.attrs.open||!1,s=!1;return{onbeforeupdate:t=>{"boolean"==typeof t.attrs.open&&(e=t.attrs.open)},view:t=>{let u="eui-branch";return u+=e?" eui-open":"",i.default("li",{class:u,onclick:t=>{t.stopPropagation(),e=!e,s=!0}},[i.default(o,{item:t.attrs.item,indentation:t.attrs.indentation}),i.default("ul",n(t.attrs.item.children,t.attrs.indentation,t.attrs.open))])}}}),a={view:t=>i.default("li",{class:"eui-leaf"},i.default(o,{item:t.attrs.item,indentation:t.attrs.indentation}))},o={view:t=>{let e=t.attrs.item,s="function"==typeof e.text?e.text():e.text,u={style:`padding-left: ${t.attrs.indentation}em;`,href:void 0,onclick:void 0,oncreate:void 0};return e.onclick&&(u.onclick=(t=>{t.stopPropagation(),t.preventDefault(),e.onclick(t)})),e.oncreate&&(u.oncreate=e.oncreate),u.href=e.href,i.default("a",u,s)}},t("Tree",()=>({view:t=>{let e=t.attrs.eui;return i.default("ul",s.applyAttrsModifiers(t.attrs,l),n(e.items,0,e.open))}})),l=(t=>((t=u.applyClasses(t)).class.push("eui-tree"),t))}}});