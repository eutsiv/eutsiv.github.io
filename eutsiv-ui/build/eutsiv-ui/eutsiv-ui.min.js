System.register("eutsiv-ui",[],function(t,e){"use strict";e&&e.id;return{setters:[],execute:function(){t("applyAttrsModifiers",(t,...e)=>{let i=Object.assign({},t);return i.eui=Object.assign({},i.eui),!Array.isArray(i.class)&&(i.class=i.class?[i.class]:[]),!i.style&&(i.style={}),e.forEach(t=>{i=t(i)}),Array.isArray(i.class)&&(i.class=i.class.length?i.class.join(" "):void 0),i.eui=void 0,i}),t("Sizes",{XS:"XS",SM:"SM",DE:"DE",LG:"LG",XL:"XL",HU:"HU",fontSize:{XS:"0.64em",SM:"0.82em",DE:"1.00em",LG:"1.32em",XL:"1.64em",HU:"2.28em"},unitGrid:{XS:"2px",SM:"4px",DE:"8px",LG:"12px",XL:"16px",HU:"24px"}})}}}),System.register("eutsiv-ui/Component",["mithril","eutsiv-ui"],function(t,e){"use strict";var i,s,u,r,n,a;e&&e.id;return{setters:[function(t){i=t},function(t){s=t}],execute:function(){t("Component",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,u,r),t.children)})),t("applyClasses",u=(t=>(t.class.push("eui-component"),t))),t("applyConfig",r=(t=>{let e=t.eui;return t=n(t),t=a(t),e.size&&(t.style.fontSize=s.Sizes.fontSize[e.size]),t})),t("applyConfigContext",n=(t=>{let e=t.eui;return e.context&&t.class.push(`eui-${e.context}`),t})),t("applyConfigFit",a=(t=>{return t.eui.fit&&t.class.push("eui-fit"),t}))}}}),System.register("eutsiv-ui/Viewport",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,r;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Viewport",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,r),t.children)})),r=(t=>((t=u.applyClasses(t)).class.push("eui-viewport"),t))}}}),System.register("eutsiv-ui/components/form/Select",["mithril"],function(t,e){"use strict";var i,s,u,r,n,a,o;e&&e.id;return{setters:[function(t){i=t}],execute:function(){s=(t=>t.state.selected.map(e=>i.default("div",[i.default("input",{type:"hidden",name:t.state.fields.id,value:e.id}),i.default("input",{type:"hidden",name:t.state.fields.text,value:e.text})]))),u=(()=>{}),r=((t,e)=>{let i=new RegExp(e,"i");return t.text&&-1!=t.text.search(i)}),n=((t,e,i)=>{i.state.multiple?(t.stopPropagation(),i.state.selected.push(e)):i.state.selected=[e],i.state.onSelect(t,e,i),i.state.dirty=!0}),a=(t=>i.default.request({method:"GET",url:t.state.remote.url,data:t.state.remote.params,useBody:!0}).then(t.state.remote.processResponse).then(e=>{t.state.data=e})),o=(t=>{let e=t.state.multiple?t.state.selected.map(t=>i.default("a",{class:"eui-button eui-sm eui-compact eui-primary"},[t.text,i.default.trust("&nbsp;&times;")])):t.state.selected.map(t=>i.default("span",t.text));return e.length?e:i.default.trust("&nbsp;")}),t("Select",()=>{let t=0,e=e=>{t=e.dom.offsetWidth};return{oninit:function(t){t.state.data=t.attrs.data||[],t.state.open=t.attrs.open||!1,t.state.multiple=t.attrs.multiple||!1,t.state.fields=t.attrs.fields||{id:"select[id]",text:"select[text]"},t.state.onSelect=t.attrs.onSelect||u,t.state.onInput=t.attrs.onInput||u,t.state.query=t.attrs.query||"",t.state.selected=t.attrs.selected||[],t.state.remote=t.attrs.remote||!1,t.state.dirty=!1,t.state.remote&&a(t),document.addEventListener("click",function(e){e.target.parentNode!=t.dom&&(t.state.open=!1,t.dom.querySelector("div.eui-select-content").children.item(0).blur(),i.default.redraw())})},onupdate:function(t){t.state.open?(t.dom.querySelector("div.eui-select-content").children.item(0).focus(),t.dom.style.zIndex="9999"):t.dom.style.zIndex="1"},view:function(u){return!u.state.dirty&&u.attrs.selected&&(u.state.selected=u.attrs.selected),i.default("div",{class:"eui-select",oncreate:e,onupdate:e},[i.default("div",{class:u.state.open?"eui-input eui-open":"eui-input",onclick:()=>{u.state.open=!u.state.open}},o(u)),i.default("div",s(u)),i.default("div",{class:u.state.open?"eui-select-container eui-open":"eui-select-container"},[i.default("div",Object.assign({class:"eui-select-content"},t&&{style:`width:${t}px`}),[i.default("input",{oninput:i.default.withAttr("value",t=>{u.state.query=t,u.state.onInput(t,u),u.state.remote&&a(u)})}),i.default("ul",u.state.data.filter(t=>r(t,u.state.query)).map(t=>i.default("li",i.default("a",{onclick:e=>{n(e,t,u)}},t.text))))])])])}}})}}}),System.register("eutsiv-ui/layout/grid/Grid",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,r;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Grid",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,r),t.children)})),r=(t=>((t=u.applyClasses(t)).class.push("eui-layout-grid"),t))}}}),System.register("eutsiv-ui/layout/grid/Row",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,r;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Row",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,r),t.children)})),r=(t=>((t=u.applyClasses(t)).class.push("eui-row"),t))}}}),System.register("eutsiv-ui/layout/grid/Column",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,r,n;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Column",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,r,n),t.children)})),t("applyClasses",r=(t=>((t=u.applyClasses(t)).class.push("eui-column"),t))),t("applyConfig",n=(t=>{let e=t.eui,i=e.size||[],s=e.offset||[],u=(t,e)=>t.map((t,i)=>{if(t)return`${e[i]}-${t}`}).filter(t=>{if(t)return!0});return t.class.push(...u(i,["eui-sm","eui"])),t.class.push(...u(s,["eui-sm-offset","eui-offset"])),t}))}}}),System.register("eutsiv-ui/layout/Grid",["eutsiv-ui/layout/grid/Grid","eutsiv-ui/layout/grid/Row","eutsiv-ui/layout/grid/Column"],function(t,e){"use strict";var i,s,u;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Grid",i.Grid),t("Row",s.Row),t("Column",u.Column)}}}),System.register("eutsiv-ui/layout/Gutter",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,r,n;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Gutter",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,r,n),t.children)})),r=(t=>((t=u.applyClasses(t)).class.push("eui-gutter"),t)),n=(t=>("boolean"!=typeof t.eui.fit&&(t.eui.fit=!0),(t=u.applyConfigFit(t)).eui.size&&(t.style.padding=s.Sizes.unitGrid[t.eui.size]),t))}}}),System.register("eutsiv-ui/widget/Badge",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,r,n;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Badge",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,r),t.children,i.default("span",s.applyAttrsModifiers(t.attrs,n,u.applyConfigContext),t.attrs.eui.value))})),r=(t=>((t=u.applyClasses(t)).class.push("eui-badge-container"),t)),n=(t=>(t.class.push("eui-badge"),t))}}}),System.register("eutsiv-ui/widget/Link",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,r;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Link",()=>({view:t=>i.default("a",s.applyAttrsModifiers(t.attrs,r,u.applyConfig),t.children)})),r=(t=>((t=u.applyClasses(t)).class.push("eui-link"),t))}}}),System.register("eutsiv-ui/widget/Icon",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,r,n;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Icon",()=>({view:t=>i.default("i",s.applyAttrsModifiers(t.attrs,r,n),t.children)})),r=(t=>((t=u.applyClasses(t)).class.push("eui-icon"),t)),n=(t=>{let e=(t=u.applyConfig(t)).eui;return e.type&&t.class.push(`eui-icon-${e.type}`),e.spin&&t.class.push("eui-spin"),t})}}}),System.register("eutsiv-ui/widget/Breadcrumb",["mithril","eutsiv-ui","eutsiv-ui/Component","eutsiv-ui/widget/Link","eutsiv-ui/widget/Icon"],function(t,e){"use strict";var i,s,u,r,n,a;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t},function(t){r=t},function(t){n=t}],execute:function(){t("Breadcrumb",()=>({view:t=>i.default("ul",s.applyAttrsModifiers(t.attrs,a,u.applyConfig),[t.attrs.eui.items.map((t,e,s)=>{let u="function"==typeof t.text?t.text():t.text,a=e==s.length-1?i.default("span",{class:"eui-active"},u):[i.default(r.Link,{href:t.href,disabled:t.disabled,oncreate:t.oncreate,eui:{context:t.context}},u),i.default(n.Icon,{disabled:!0,eui:{type:"right-open"}})];return i.default("li",a)})])})),a=(t=>((t=u.applyClasses(t)).class.push("eui-breadcrumb"),t))}}}),System.register("eutsiv-ui/widget/Button",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,r,n;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Button",()=>({view:t=>{let e=t.attrs.eui&&"a"==t.attrs.eui.tag||t.attrs.href?"a":"button";return i.default(e,s.applyAttrsModifiers(t.attrs,r,n),t.children)}})),r=(t=>((t=u.applyClasses(t)).class.push("eui-button"),t)),n=(t=>{let e=(t=u.applyConfig(t)).eui;return e.block&&t.class.push("eui-block"),e.compact&&t.class.push("eui-compact"),e.flat&&t.class.push("eui-flat"),t})}}}),System.register("eutsiv-ui/widget/form/Checkbox",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,r,n;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Checkbox",()=>({view:t=>{let e=s.applyAttrsModifiers(t.attrs,r,n),u=e.onchange;return delete e.onchange,i.default("label",e,i.default("input",{type:"checkbox",checked:e.checked,disabled:e.disabled,name:e.name,value:e.value,onchange:u}),i.default("span",{class:"eui-fake"}),t.children)}})),r=(t=>((t=u.applyClasses(t)).class.push("eui-checkbox"),t)),n=(t=>{return t.eui.inline&&t.class.push("eui-inline"),t})}}}),System.register("eutsiv-ui/widget/form/Field",["mithril","eutsiv-ui/layout/Grid","eutsiv-ui/layout/Gutter"],function(t,e){"use strict";var i,s,u;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Field",()=>({view:t=>i.default(s.Column,t.attrs,i.default(u.Gutter,t.children))}))}}}),System.register("eutsiv-ui/widget/form/Label",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,r;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Label",()=>({view:t=>i.default("label",s.applyAttrsModifiers(t.attrs,u.applyClasses,r),t.children.map(t=>"#"==t.tag?i.default("span",{class:"eui-text"},t):t))})),r=(t=>{return t.eui.inline&&t.class.push("eui-inline"),t})}}}),System.register("eutsiv-ui/widget/form/Radio",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,r,n;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Radio",()=>({view:t=>{let e=s.applyAttrsModifiers(t.attrs,r,n),u=e.onchange;return delete e.onchange,i.default("label",e,i.default("input",{type:"radio",checked:e.checked,disabled:e.disabled,name:e.name,value:e.value,onchange:u}),i.default("span",{class:"eui-fake"}),t.children)}})),r=(t=>((t=u.applyClasses(t)).class.push("eui-radio"),t)),n=(t=>{return t.eui.inline&&t.class.push("eui-inline"),t})}}}),System.register("eutsiv-ui/widget/Form",["mithril","eutsiv-ui","eutsiv-ui/Component","eutsiv-ui/widget/form/Checkbox","eutsiv-ui/widget/form/Field","eutsiv-ui/widget/form/Label","eutsiv-ui/widget/form/Radio"],function(t,e){"use strict";var i,s,u,r,n,a,o,l;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t},function(t){r=t},function(t){n=t},function(t){a=t},function(t){o=t}],execute:function(){t("Checkbox",r.Checkbox),t("Field",n.Field),t("Label",a.Label),t("Radio",o.Radio),t("Form",()=>({view:t=>i.default("form",s.applyAttrsModifiers(t.attrs,l),t.children)})),l=(t=>((t=u.applyClasses(t)).class.push("eui-form"),t))}}}),System.register("eutsiv-ui/widget/Loading",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,r;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Loading",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,r),[...Array(6).keys()].map(t=>i.default("div",{class:`eui-ball eui-ball-${t+1}`})))})),r=(t=>((t=u.applyClasses(t)).class.push("eui-loading"),t))}}}),System.register("eutsiv-ui/widget/Notification",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,r;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Notification",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,r,u.applyConfig),t.children)})),r=(t=>((t=u.applyClasses(t)).class.push("eui-notification"),t))}}}),System.register("eutsiv-ui/widget/Progress",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,r;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Progress",()=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,r,u.applyConfig),i.default("div",{class:"eui-bar",style:`width:${t.attrs.eui.percent}%`}))})),r=(t=>((t=u.applyClasses(t)).class.push("eui-progress"),t))}}}),System.register("eutsiv-ui/widget/Table",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,r;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){t("Table",()=>({view:t=>{let e=t.attrs.eui;return i.default("div",s.applyAttrsModifiers(t.attrs,r),i.default("table",{class:"eui-table eui-condensed eui-striped"},[i.default("thead",[i.default("tr",e.columns.map(t=>Array.isArray(t.title)?i.default("th",{onclick:t.title[1],style:"cursor:pointer"},t.title[0]):i.default("th",t.title)))]),i.default("tbody",e.data.map(t=>i.default("tr",{key:t[e.key]},e.columns.map(e=>{let s="function"==typeof e.content?e.content(t):t[e.content];return i.default("td",s)}))))]))}})),r=(t=>((t=u.applyClasses(t)).class.push("eui-table-container"),t))}}}),System.register("eutsiv-ui/widget/Tabs",["mithril","eutsiv-ui","eutsiv-ui/Component","eutsiv-ui/widget/Button","eutsiv-ui/layout/Gutter"],function(t,e){"use strict";var i,s,u,r,n,a;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t},function(t){r=t},function(t){n=t}],execute:function(){t("Tabs",()=>{let t=0;return{view:e=>i.default("div",s.applyAttrsModifiers(e.attrs,a),[...e.attrs.eui.tabs.map((e,s)=>i.default(r.Button,{onclick:()=>{t=s},disabled:t==s},e.title)),i.default(n.Gutter,e.attrs.eui.tabs[t].content)])}}),a=(t=>((t=u.applyClasses(t)).class.push("eui-tabs"),t))}}}),System.register("eutsiv-ui/widget/calendar/Calendar",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,r,n,a,o,l,d;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){6,r=["Sun","Mon","Tues","Wed","Thur","Fri","Sat"],n=["January","February","March","April","May","June","July","August","September","October","November","December"],a=((t,e)=>new Date(t,e+1,0).getDate()),o=((t,e)=>{let i=a(t,e),s=new Date(t,e,1).getDay(),u=0==e?11:e-1,n=a(11==u?t-1:t,u),o=[],l=1,d=1;return[...Array(6*r.length).keys()].reduce((t,e)=>(e<s?o.push({day:n-s+e+1,intruder:!0}):d>i?o.push({day:l++,intruder:!0}):o.push({day:d++,intruder:!1}),(e+1)%r.length==0&&(t.push(o),o=[]),t),[])}),l={view:()=>i.default("div",{class:"eui-week-days"},r.map(t=>i.default("div",{class:"eui-day"},t)))},t("Calendar",({attrs:t})=>({view:t=>i.default("div",s.applyAttrsModifiers(t.attrs,d,u.applyConfig),i.default("h2",n[t.attrs.month]+" "+t.attrs.year),i.default(l),i.default("div",{class:"eui-calendar-grid"},o(t.attrs.year,t.attrs.month).map(e=>i.default("div",{class:"eui-calendar-row"},e.map(e=>{let s="eui-day";e.intruder&&(s+=" eui-other-month");let u=new Date(t.attrs.year,t.attrs.month,e.day).toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return i.default("div",{class:s,title:u},e.day)})))))})),d=(t=>((t=u.applyClasses(t)).class.push("eui-calendar"),t))}}}),System.register("eutsiv-ui/widget/data/Grid",["mithril","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,r,n,a,o,l,d,c;e&&e.id;return{setters:[function(t){i=t},function(t){s=t}],execute:function(){u=(t=>{if(!t.attrs.column.width||t.attrs.column.width<t.dom.scrollWidth){let e=t.dom.scrollWidth+2*parseInt(window.getComputedStyle(t.dom,null).getPropertyValue("padding-right").slice(0,-2));t.attrs.column.width=e,i.default.redraw()}}),r=((t,e)=>!!e.length&&e.reduce((t,e,i)=>e.fn(t,e.order,i),[...t])),n={view:t=>i.default("div",{class:"header",style:t.attrs.gridState.totalWidth?`width:${t.attrs.gridState.totalWidth}px`:""},t.attrs.columns.map((e,s)=>{t.attrs.gridState.columns[s]||(t.attrs.gridState.columns[s]={}),!t.attrs.gridState.columns[s].sort&&e.sort&&(t.attrs.gridState.columns[s].sort={fn:e.sort,index:s,nth:0,order:void 0});let u="&nbsp;";return e.title&&(u=e.title),t.attrs.gridState.columns[s].sort&&t.attrs.gridState.columns[s].sort.order&&(1==t.attrs.gridState.columns[s].sort.order?u+=" &#11015;":-1==t.attrs.gridState.columns[s].sort.order&&(u+=" &#11014;"),u+=` <small>(${t.attrs.gridState.columns[s].sort.nth+1})</small>`),[i.default(a,{column:t.attrs.gridState.columns[s],data:t.attrs.data,gridState:t.attrs.gridState},i.default.trust(u)),i.default(o,{column:t.attrs.gridState.columns[s],gridState:t.attrs.gridState})]}))},a={oncreate:t=>{u(t)},onupdate:t=>{u(t)},view:t=>i.default("div",{class:"col col-header",style:t.attrs.column.width?`width:${t.attrs.column.width}px`:"",onclick:e=>{if(t.attrs.column.sort||(t.attrs.gridState.columns.forEach(t=>{t.sort&&(t.sort.order=void 0)}),t.attrs.gridState.sortStack=[]),t.attrs.column.sort.order?1==t.attrs.column.sort.order?t.attrs.column.sort.order=-1:t.attrs.column.sort.order=void 0:t.attrs.column.sort.order=1,e.ctrlKey){let e=t.attrs.gridState.sortStack.findIndex(e=>e.index==t.attrs.column.sort.index);-1==e?(t.attrs.gridState.sortStack.unshift(t.attrs.column.sort),t.attrs.column.sort.nth=t.attrs.gridState.sortStack.length-1):t.attrs.column.sort.order?t.attrs.gridState.sortStack[e]=t.attrs.column.sort:t.attrs.gridState.sortStack.splice(e,1)}else t.attrs.gridState.sortStack=t.attrs.column.sort.order?[t.attrs.column.sort]:[],t.attrs.gridState.columns.forEach(e=>{e.sort&&e.sort.index!=t.attrs.column.sort.index&&(e.sort.order=void 0)}),t.attrs.column.sort.nth=0;t.attrs.gridState.sortedData=r(t.attrs.data,t.attrs.gridState.sortStack)}},t.children)},o={view:t=>i.default("div",{class:"resizer",onmousedown:e=>{let s=document.createElement("div"),u=e.clientX,r=t.attrs.column.dom.offsetLeft+t.attrs.column.dom.offsetWidth-t.attrs.gridState.leftScrolled;function n(t){t.preventDefault()}function a(e){let i=r+(e.clientX-u);t.attrs.column.width=i-t.attrs.column.dom.offsetLeft+t.attrs.gridState.leftScrolled,s.style.left=`${i}px`}s.style.position="absolute",s.style.top="0",s.style.left=`${r}px`,s.style.width="1px",s.style.height="100%",s.style.zIndex="1",s.style.background="#e0e0e0",t.attrs.gridState.dom.appendChild(s),window.addEventListener("selectstart",n),window.addEventListener("mousemove",a,!1),window.addEventListener("mouseup",function e(u){t.attrs.gridState.dom.removeChild(s);let r=t.attrs.gridState.columns.map(t=>t.width).reduce((t,e)=>t+e+5,0);t.attrs.gridState.totalWidth=r>t.attrs.gridState.dom.getBoundingClientRect().width?r:0,i.default.redraw(),window.removeEventListener("mousemove",a,!1),window.removeEventListener("selectstart",n),window.removeEventListener("mouseup",e,!1)},!1)}})},l={oncreate:t=>{"auto"!=t.attrs.gridState.height&&(t.dom.style.height=t.dom.parentNode.getBoundingClientRect().height-t.dom.parentNode.querySelector(".header").getBoundingClientRect().height-2+"px")},view:t=>i.default("div",{class:"body",style:"height: 100%",onscroll:e=>{e.redraw=!1,t.attrs.gridState.leftScrolled!=e.target.scrollLeft&&(t.dom.parentNode.querySelector("div.header").style.left=-1*e.target.scrollLeft+"px",t.attrs.gridState.leftScrolled=e.target.scrollLeft,i.default.redraw())}},t.attrs.data.map(e=>i.default(d,{columns:t.attrs.columns,data:e,key:e[t.attrs.key],gridState:t.attrs.gridState})))},d={view:t=>i.default("div",{key:t.attrs.data[t.attrs.key],class:"row",style:t.attrs.gridState.totalWidth?`width:${t.attrs.gridState.totalWidth}px`:""},t.attrs.columns.map((e,s)=>{let u="function"==typeof e.content?e.content(t.attrs.data):t.attrs.data[e.content];return i.default(c,{column:t.attrs.gridState.columns[s]},u)}))},c={oncreate:t=>{t.attrs.column.dom=t.dom,(!t.attrs.column.width||t.attrs.column.width<t.dom.getBoundingClientRect().width)&&(t.attrs.column.width=t.dom.getBoundingClientRect().width,i.default.redraw())},view:t=>i.default("div",{class:"col col-body",style:t.attrs.column.width?`width:${t.attrs.column.width}px`:""},t.children)},t("Grid",()=>{let t={columns:[],dom:void 0,height:"auto",leftScrolled:0,sortedData:!1,sortStack:[],totalWidth:0};return{oncreate:e=>{t.dom=e.dom},view:e=>{let s=e.attrs.eui,u=t.sortedData?t.sortedData:s.data;return t.height=s.height||"auto",i.default("div",{class:"grid",style:`height: ${t.height}`},i.default(n,{columns:s.columns,data:u,gridState:t}),i.default(l,{columns:s.columns,data:u,key:s.key,gridState:t}))}}}),t=>((t=s.applyClasses(t)).class.push("eui-data-grid"),t)}}}),System.register("eutsiv-ui/widget/data/Paging",["mithril","eutsiv-ui","eutsiv-ui/Component","eutsiv-ui/widget/Button","eutsiv-ui/layout/Gutter"],function(t,e){"use strict";var i,s,u,r,n,a;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t},function(t){r=t},function(t){n=t}],execute:function(){t("Paging",()=>({view:t=>{let e=t.attrs.eui,u=e.page||1,o=e.rows.total,l=e.rows.perPage,d=o%l>0?Math.floor(o/l)+1:o/l,c=[...Array(d).keys()].map(t=>t+1),f=u*l;return f>o&&(f=o),i.default("nav",s.applyAttrsModifiers(t.attrs,a),[i.default(n.Gutter,{eui:{size:s.Sizes.SM}},i.default("span",{class:"eui-status"},`Displaying ${(u-1)*l+1} to ${f} of ${o}`)),...c.map(t=>{let a={href:e.buildHref(t,l),oncreate:i.default.route.link,eui:{context:t==u?"primary":void 0,spaced:!0}};return i.default(n.Gutter,{eui:{fit:!1,size:s.Sizes.XS}},i.default(r.Button,a,t))})])}})),a=(t=>((t=u.applyClasses(t)).class.push("eui-paging"),t))}}}),System.register("eutsiv-ui/widget/form/ImprovedSelect",[],function(t,e){"use strict";e&&e.id;return{setters:[],execute:function(){t("ImprovedSelect",()=>{})}}}),System.register("eutsiv-ui/widget/form/MonthPicker",["mithril","eutsiv-ui/widget/Button","eutsiv-ui/widget/Icon"],function(t,e){"use strict";var i,s,u,r,n;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){r=(t=>{let e=t.getFullYear(),i=t.getMonth();return 11==i?(i=0,e++):i++,new Date(e,i,1)}),n=(t=>{let e=t.getFullYear(),i=t.getMonth();return 0==i?(i=11,e--):i--,new Date(e,i,1)}),t("MonthPicker",()=>{let t=new Date;return{view:()=>[i.default("input",{style:"display:none"}),i.default(s.Button,{onclick:()=>{t=n(t)}},i.default(u.Icon,{eui:{type:"minus"}})),i.default("input",{value:`${t.getMonth()+1} - ${t.getFullYear()}`}),i.default(s.Button,{onclick:()=>{t=r(t)}},i.default(u.Icon,{eui:{type:"plus"}}))]}})}}}),System.register("eutsiv-ui/widget/form/Select",[],function(t,e){"use strict";e&&e.id;return{setters:[],execute:function(){t("Select",()=>{})}}}),System.register("eutsiv-ui/widget/tree/Tree",["mithril","eutsiv-ui","eutsiv-ui/Component"],function(t,e){"use strict";var i,s,u,r,n,a,o,l;e&&e.id;return{setters:[function(t){i=t},function(t){s=t},function(t){u=t}],execute:function(){r=((t,e,s)=>(e+=16,t.map(t=>"branch"==t.type?i.default(n,{item:t,indentation:e,treeState:s}):i.default(a,Object.assign({},t,{indentation:e}))))),n=(({attrs:t})=>{let e=!1;return{view:({attrs:t})=>{let s="eui-branch";return t.treeState.outsideUpdate&&("boolean"==typeof t.item.open?e=t.item.open:"boolean"==typeof t.treeState.open&&(e=t.treeState.open)),s+=e?" eui-open":"",i.default("li",{class:s,onclick:i=>{i.stopPropagation(),e=!e,t.treeState.clicked=!0}},[i.default(o,Object.assign({},t.item,{indentation:t.indentation})),i.default("ul",r(t.item.children,t.indentation,t.treeState))])}}}),a={view:({attrs:t})=>i.default("li",{class:"eui-leaf"},i.default(o,t))},o={view:({attrs:t})=>{let e="function"==typeof t.text?t.text():t.text,s={style:`padding-left:${t.indentation}px`,href:void 0,onclick:void 0,oncreate:void 0};return t.onclick&&(s.onclick=(e=>{e.stopPropagation(),e.preventDefault(),t.onclick(e)})),t.oncreate&&(s.oncreate=t.oncreate),s.href=t.href,i.default("a",s,e)}},t("Tree",()=>{let t={clicked:!1,open:!1,outsideUpdate:!0};return{onbeforeupdate:()=>{t.clicked?(t.clicked=!1,t.outsideUpdate=!1):t.outsideUpdate=!0},view:({attrs:e})=>(t.open=e.eui.open,i.default("ul",s.applyAttrsModifiers(e,l),r(e.eui.items,0,t)))}}),l=(t=>((t=u.applyClasses(t)).class.push("eui-tree"),t))}}});